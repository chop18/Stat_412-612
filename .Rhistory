mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = case_when(stay_home_restrictions !=0, ~min(date)),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = if(stay_home_restrictions !=0){min(date)},
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = if(stay_home_restrictions ==1){min(date)},
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(if(stay_home_restrictions ==1){first_date0 = min(date)},
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(if(stay_home_restrictions !=0){first_date0 = min(date)},
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(if_else(stay_home_restrictions!=0, min(date)),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(if_else(stay_home_restrictions!=0, min(date), 0, missing = 0),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
select(c("state_name", "date","confirmed","date", "population" )) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
distinct(first_date0)
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(COVID19)
library(tidyverse)
library(readr)
library(lubridate)
covid19("US", level = 2) %>%
rename(state_name = administrative_area_level_2 ) %>%
select(-c("administrative_area_level_1","administrative_area_level_3","latitude","longitude","currency", "administrative_area_level_1")) %>%
arrange(state_name) %>%
relocate("state_name", "date", "confirmed", "tests")-> easy_covid_df
easy_covid_df
#Two columns - one for restriction 1 and one for restriction level 2. Values would be a, b and none in each. The a is the before restriction group (first date - )and the b is the after restriction group (firstdate + 30  ) and then none for dates not in the cohort.
#Then summarize the mean for each cohort in a group by state, restriction level, cohort.
easy_covid_df %>%
group_by(state_name, stay_home_restrictions) %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
# mutate(cohort1 = stay_home_restrictions ==1 ),
#        cohort2= case_when()) %>%
mutate(cohorta= (date<=first_date0 & date>(first_date0-days(14))),
cohortb = (date<dateplus30 & date>=(dateplus30-days(14))))%>%
relocate(cohorta, cohortb, date, first_date0, dateplus30) %>%
arrange(state_name) %>%
view()
knitr::opts_chunk$set(echo = TRUE)
library(COVID19)
library(tidyverse)
library(readr)
covid19("US", level = 2) %>%
select(-c("administrative_area_level_1","administrative_area_level_3","latitude","longitude","currency", "administrative_area_level_1")) %>%
relocate("administrative_area_level_2", "date", "confirmed", "tests")-> easy_covid_df
easy_covid_df %>%
group_by(administrative_area_level_2, confirmed) %>%
# mutate(first_date = min(date)) %>%
select(administrative_area_level_2, date, confirmed) %>%
arrange(date, administrative_area_level_2) %>%
group_by(administrative_area_level_2) %>%
filter(confirmed>0) %>%
mutate(daily_rate = c(0,diff(confirmed))) %>%
mutate(second_rate= c(0,diff(daily_rate))) %>%
arrange(administrative_area_level_2, date) -> maindata
ggplot(data = a, aes(x = Mean, y = administrative_area_level_2))+
geom_point()+
theme_bw()
library(dplyr)
maindata %>%
group_by(administrative_area_level_2) %>%
arrange(date) %>%
slice(1L) %>%
select(administrative_area_level_2, date) -> first_case_day
first_case_day
unique(maindata$administrative_area_level_2)
# Northeast
# 11 states there are
#Connecticut, Maine, Massachusetts, New Hampshire, Rhode Island, Vermont, Delaware, Maryland, New #Jersey, New York, and Pennsylvania.
maindata %>%
filter(administrative_area_level_2 == c("Connecticut", "Maine", "Massachusetts", "New Hampshire","Rhode Island", "Vermont", "Delaware", "Maryland", "New Jersey", "New York", "Pennsylvania")) -> northeast
south_rate
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
covid19("US", level = 2) %>%
rename(state_name = administrative_area_level_2 ) %>%
select(-c("administrative_area_level_1","administrative_area_level_3","latitude","longitude","currency", "administrative_area_level_1")) %>%
arrange(state_name) %>%
relocate("state_name", "date", "confirmed", "tests")-> easy_covid_df
easy_covid_df
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(state_name, cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions ==1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 1 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 1 ~"None"),
cohort2= case_when(stay_home_restrictions ==2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
stay_home_restrictions == 2 & date>first_date0 & date<(dateplus30-days(14))| date<(first_date0-days(14))| date>(dateplus30) | stay_home_restrictions != 2 ~"None")) %>%
relocate(state_name, stay_home_restrictions, cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
mutate(cohort1 = case_when(stay_home_restrictions <1 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==1 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
TRUE ~"None"),
cohort2= case_when(stay_home_restrictions <2 & date<=first_date0 & date>(first_date0-days(14))~"a",
stay_home_restrictions ==2 & date<=dateplus30 & date>=(dateplus30-days(14))~"b",
TRUE ~"None")) %>%
relocate(state_name, stay_home_restrictions, cohort1, cohort2, date, first_date0, dateplus30) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
mutate(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
ungroup() %>%
group_by(state_name) %>%
pivot_wider( names_from = stay_home_restrictions, values_from = first_date0, names_prefix = "R-") %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
view()
View(easy_covid_df)
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
filter(!is.na(stay_home_restrictions) ) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date),
dateplus30 = first_date0+days(30)) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
filter(!is.na(stay_home_restrictions) ) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date),
dateplus30 = first_date0+days(30))-> day1and2
easy_covid_df %>%
left_join(day1and2, by = c("state_name", "stay_home_restrictions"))
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name", "stay_home_restrictions")) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
filter(!is.na(stay_home_restrictions) ) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date),
dateplus30 = first_date0+days(30))-> day1and2
day1and2
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date_0")
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
filter(!is.na(stay_home_restrictions) ) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date))-> day1and2
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
filter(!is.na(stay_home_restrictions) ) %>%
group_by(state_name, stay_home_restrictions) %>%
summarize(first_date0 = min(date))-> day1and2
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-")
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-") %>% left_join(day1and2, by = c("state_name", "stay_home_restrictions")) %>%
view()
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-") %>% left_join(day1and2, by = c("state_name")) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
view()
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-")-day1and2
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-")->day1and2
day1and2 %>%
pivot_wider(names_from = "stay_home_restrictions", values_from = "first_date0", names_prefix= "R-")->day1and2
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
view()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_retrictions, color = state))+
geom_line()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state))+
geom_line()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line(legend = FALSE)+
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line(legend = FALSE)
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name, legend = FALSE))+
geom_line()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
labs(leyend =FALSE)
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
theme(leyend =FALSE)
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
theme(legend, position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_point()+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_jitter()+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(state_name)+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
filter(date<mdy("06/01/20")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
filter(date<mdy("05/01/20")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
filter(date<mdy("05/01/20") & date> mdy("03/15/20")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
theme(legend.position= "none")
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
filter(date<mdy("05/01/20") & date> mdy("03/15/20")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
coord_flip()+
theme(legend.position= "none")
ggplot(data =south, mapping = aes(x = date , y = second_rate))+
stat_smooth(method = loess,color='dark green') +
geom_vline(xintercept = mdy("06/03/20"))
ggplot(data =south, mapping = aes(x = date , y = second_rate))+
stat_smooth(method = loess,color='dark green') +
geom_vline(xintercept = mdy("06/03/20"))+
labs(x = "Time", y = "Second Rate")+
theme_bw() -> south_second_rate
south_rate
ggplot(data =south, mapping = aes(x = date , y = daily_rate))+
stat_smooth(method = loess,color='dark green') +
geom_vline(xintercept = mdy("06/03/20"))+
labs(x = "Time", y = "Daily Rate")+
theme_bw() -> south_rate
south_rate
easy_covid_df %>%
select(c("state_name", "date","confirmed","date", "population", "stay_home_restrictions" )) %>%
left_join(day1and2, by = c("state_name")) %>%
filter(date<mdy("05/01/20") & date> mdy("03/15/20")) %>%
ggplot(aes(x=date, y= stay_home_restrictions, color = state_name))+
geom_line()+
facet_wrap(~state_name)+
theme(legend.position= "none")
